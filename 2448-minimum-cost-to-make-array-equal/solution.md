# 使数组相等的最小开销

&emsp;&emsp;[源码](./solution.cpp)

&emsp;&emsp;令 $equalValue$ 为使数组所有元素都等于的数字, 令 $totalCost$ 为把数组所有元素都变成 $equalValue$ 的开销, 问题就转化成了求函数 $totalCost = f(equalValue)$ 的最小值. 从直觉上来说, 该函数的导数应该是单调的, 因此可以使用三分法解决.

&emsp;&emsp;首先令下界 $l = 0$, 上界 $r = 1e6$. 令 $mid1$, $mid2$ 分别为 $l$, $r$ 中间的两个三等分点. 每次依次检查 $f(mid1)$ 和 $f(mid2)$, 并改变 $l$ 或 $r$ 的值, 使 $mid1$ 和 $mid2$ 中令 $f$ 最小的点成为新区间的中点. 这样一来, 每次迭代后, 新区间都会缩小为原区间的 $\frac{2}{3}$. 一直迭代下去, 直到区间只包含一个整数点, 就得到了答案.

&emsp;&emsp;总体时间复杂度是 $O(n * logm)$, 其中 $m$ 为 $r - l$ 的初值, 即原数组中最大值与最小值之差.
